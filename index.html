<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Master Admin Pro | DANA Style</title>
    
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
    
    <style>
        :root {
            --dana-blue: #108ee9;
            --dana-dark-blue: #0a7cc2;
            --white: #ffffff;
            --bg-light: #f5f5f5;
            --text-dark: #333333;
            --text-gray: #888888;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Poppins', sans-serif; }
        body { background: var(--bg-light); color: var(--text-dark); overflow-x: hidden; padding-bottom: 80px; }

        /* --- SIDEBAR --- */
        #sidebar {
            position: fixed; left: -280px; top: 0; width: 280px; height: 100%; 
            background: var(--dana-blue); color: white; z-index: 3000; 
            transition: 0.3s cubic-bezier(0.4, 0, 0.2, 1); padding: 25px;
        }
        #sidebar.active { left: 0; }
        .overlay { position: fixed; display: none; width: 100%; height: 100%; background: rgba(0,0,0,0.5); z-index: 2500; backdrop-filter: blur(2px); }
        .overlay.active { display: block; }

        /* --- HEADER AREA --- */
        .blue-section {
            background: var(--dana-blue);
            height: 220px;
            padding: 20px 5%;
            color: white;
            position: relative;
        }
        .top-bar { display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px; }
        .saldo-area { display: flex; align-items: center; gap: 10px; }
        .saldo-area span { font-size: 13px; opacity: 0.9; }
        .saldo-val { font-size: 20px; font-weight: 700; cursor: pointer; display: flex; align-items: center; gap: 8px; }

        .quick-actions {
            display: flex;
            justify-content: space-between;
            text-align: center;
            margin-top: 15px;
        }
        .action-item { flex: 1; cursor: pointer; }
        .action-item i { font-size: 22px; margin-bottom: 8px; display: block; }
        .action-item p { font-size: 11px; font-weight: 500; }

        /* BUBBLE PENGINGAT */
        .floating-reminder {
            position: absolute;
            background: #ffeb3b; 
            color: #333;
            padding: 5px 12px;
            border-radius: 15px 15px 15px 2px;
            font-size: 10px;
            font-weight: 800;
            bottom: 35px;
            left: 20px;
            white-space: nowrap;
            box-shadow: 0 4px 10px rgba(0,0,0,0.2);
            animation: floatAnim 2s ease-in-out infinite;
            z-index: 100;
        }
        .floating-reminder::after {
            content: '';
            position: absolute;
            bottom: -5px; left: 8px;
            border-left: 5px solid transparent; border-right: 5px solid transparent; border-top: 5px solid #ffeb3b;
        }

        @keyframes floatAnim {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-6px); }
        }

        /* --- MAIN CONTENT --- */
        .main-container {
            padding: 0 15px;
            margin-top: -30px;
            position: relative;
            z-index: 10;
        }
        
        .mahfuzat-card {
            background: var(--white);
            padding: 12px 15px;
            border-radius: 15px;
            margin-bottom: 15px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.05);
            border-left: 4px solid var(--dana-blue);
        }
        .mahfuzat-card h4 { font-size: 10px; color: var(--dana-blue); text-transform: uppercase; margin-bottom: 5px; letter-spacing: 0.5px;}
        
        .marquee-wrapper { width: 100%; overflow: hidden; white-space: nowrap; }
        .marquee-text {
            display: inline-block;
            font-size: 13px;
            font-style: italic;
            color: #555;
            padding-left: 100%;
            animation: marqueeScroll 25s linear infinite;
        }

        @keyframes marqueeScroll {
            0% { transform: translateX(0); }
            100% { transform: translateX(-100%); }
        }

        .menu-white-box {
            background: var(--white);
            border-radius: 20px;
            padding: 25px 10px;
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 20px 5px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.05);
        }

        .menu-item { display: flex; flex-direction: column; align-items: center; text-align: center; cursor: pointer; }
        .icon-circle { width: 45px; height: 45px; margin-bottom: 8px; display: flex; align-items: center; justify-content: center; font-size: 22px; }
        .menu-item h3 { font-size: 11px; font-weight: 500; color: #444; line-height: 1.2; }

        /* --- BOTTOM NAV --- */
        .bottom-nav {
            position: fixed; bottom: 0; width: 100%; height: 70px;
            background: var(--white); border-top: 1px solid #eee;
            display: flex; justify-content: space-around; align-items: center;
            z-index: 1000;
        }
        .nav-item { text-align: center; color: var(--text-gray); font-size: 10px; cursor: pointer; flex: 1; }
        .nav-item.active { color: var(--dana-blue); }
        .nav-item i { font-size: 20px; display: block; margin-bottom: 4px; }
        /* Perubahan: Tambah cursor pointer */
        .pay-btn { width: 60px; height: 60px; background: var(--dana-blue); border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; font-size: 24px; margin-top: -35px; border: 5px solid var(--bg-light); box-shadow: 0 4px 10px rgba(16, 142, 233, 0.3); cursor: pointer; }

        /* Icon Colors */
        .c-infaq { color: #10b981; } .c-jamaah { color: #f59e0b; } .c-sholat { color: #3b82f6; } .c-sosial { color: #ef4444; } 
        .c-jadwal { color: #8b5cf6; } .c-kutipan { color: #ec4899; } .c-kas { color: #06b6d4; } .c-laporan { color: #64748b; }
    </style>
</head>
<body>

    <div class="overlay" id="overlay" onclick="toggleSidebar()"></div>
    
    <div id="sidebar">
        <h2 style="margin-bottom:25px; font-weight: 800; border-bottom: 1px solid rgba(255,255,255,0.2); padding-bottom: 10px;">MASTER PRO</h2>
        <div class="sidebar-menu">
            <a href="#" style="color:white; text-decoration:none; display:block; margin-bottom:20px"><i class="fas fa-home" style="width:25px"></i> Beranda</a>
            <a href="#" style="color:white; text-decoration:none; display:block; margin-bottom:20px"><i class="fas fa-user" style="width:25px"></i> Profil</a>
            <hr style="opacity:0.2; margin:20px 0">
            <a href="#" onclick="location.reload()" style="color:#ffb2b2; text-decoration:none;"><i class="fas fa-power-off" style="width:25px"></i> Keluar</a>
        </div>
    </div>

    <div class="blue-section">
        <div class="top-bar">
            <i class="fas fa-bars" onclick="toggleSidebar()" style="font-size: 20px; cursor:pointer"></i>
            <div class="saldo-area">
                <span>Saldo Kas</span>
                <div class="saldo-val" onclick="toggleMata()">
                    <span id="angka-saldo">Rp 0</span>
                    <i id="icon-mata" class="far fa-eye" style="font-size:14px;"></i>
                </div>
            </div>
            <i class="fas fa-comment-dots" style="font-size: 20px;"></i>
        </div>

        <div class="quick-actions">
            <div class="action-item" onclick="location.href='infaq.html'"><i class="fas fa-plus-square"></i><p>Isi Saldo</p></div>
            <div class="action-item"><i class="fas fa-hand-holding-usd"></i><p>Minta</p></div>
            <div class="action-item"><i class="fas fa-paper-plane"></i><p>Kirim</p></div>
            <div class="action-item" onclick="location.href='infaq.html'"><i class="fas fa-wallet"></i><p>Kas Box</p></div>
        </div>

        <div class="floating-reminder" id="nasihat-gerak">Memuat pesan...</div>
    </div>

    <div class="main-container">
        <div class="mahfuzat-card">
            <h4>MAHFUZAT HARI INI</h4>
            <div class="marquee-wrapper">
                <span class="marquee-text" id="m-text">Memuat pesan bijak...</span>
            </div>
        </div>

        <div class="menu-white-box">
            <div class="menu-item" onclick="location.href='infaq.html'"><div class="icon-circle"><i class="fas fa-hand-holding-heart c-infaq"></i></div><h3>Infaq</h3></div>
            <div class="menu-item" onclick="location.href='jamaah.html'"><div class="icon-circle"><i class="fas fa-users c-jamaah"></i></div><h3>Jamaah</h3></div>
            <div class="menu-item" onclick="location.href='waktusholat.html'"><div class="icon-circle"><i class="fas fa-mosque c-sholat"></i></div><h3>Sholat</h3></div>
            <div class="menu-item" onclick="location.href='sosial.html'"><div class="icon-circle"><i class="fas fa-heartbeat c-sosial"></i></div><h3>Sosial</h3></div>
            <div class="menu-item" onclick="location.href='jadwal.html'"><div class="icon-circle"><i class="fas fa-calendar-alt c-jadwal"></i></div><h3>Jadwal</h3></div>
            <div class="menu-item" onclick="location.href='mahfuzat.html'"><div class="icon-circle"><i class="fas fa-quote-left c-kutipan"></i></div><h3>Kutipan</h3></div>
            <div class="menu-item" onclick="location.href='infaq.html'"><div class="icon-circle"><i class="fas fa-box-open c-kas"></i></div><h3>Inventaris</h3></div>
            <div class="menu-item" onclick="location.href='laporan.html'"><div class="icon-circle"><i class="fas fa-file-contract c-laporan"></i></div><h3>Laporan</h3></div>
        </div>
    </div>

    <div class="bottom-nav">
        <div class="nav-item active"><i class="fas fa-home"></i> Beranda</div>
        <div class="nav-item" onclick="location.href='aktivitas.html'"><i class="fas fa-history"></i> Aktivitas</div>
        <div class="pay-btn" onclick="location.href='kartu.html'"><i class="fas fa-qrcode"></i></div>
        <div class="nav-item"><i class="fas fa-wallet"></i> Dompet</div>
        <div class="nav-item"><i class="fas fa-user-circle"></i> Saya</div>
    </div>

    <script>
        let isHidden = false;
        let totalSaldoGlobal = 0;

        function toggleSidebar() {
            document.getElementById('sidebar').classList.toggle('active');
            document.getElementById('overlay').classList.toggle('active');
        }

        // --- SINKRONISASI SALDO SAJA ---
        function syncData() {
            let dataRaw = localStorage.getItem('kas_data');
            let listKas = dataRaw ? JSON.parse(dataRaw) : [];
            let masuk = 0; let keluar = 0;

            listKas.forEach(t => {
                if(t.type === 'masuk') masuk += parseInt(t.amount);
                else keluar += parseInt(t.amount);
            });

            totalSaldoGlobal = masuk - keluar;
            renderSaldo();
        }

        function toggleMata() { isHidden = !isHidden; renderSaldo(); }

        function renderSaldo() {
            const display = document.getElementById('angka-saldo');
            const icon = document.getElementById('icon-mata');
            if(isHidden) {
                display.innerText = "Rp •••••••";
                icon.classList.replace('fa-eye', 'fa-eye-slash');
            } else {
                display.innerText = "Rp " + totalSaldoGlobal.toLocaleString('id-ID');
                icon.classList.replace('fa-eye-slash', 'fa-eye');
            }
        }

        const mahfuzat = [
            "Man jadda wajada - Siapa bersungguh-sungguh akan berhasil.",
            "Man shabara zhafira - Siapa bersabar akan beruntung.",
            "Al-waqtu atsmanu minadz dzahabi - Waktu lebih berharga dari emas.",
            "Al-ilmu bilaa 'amalin kasy syajari bilaa tsamarin - Ilmu tanpa amal bagai pohon tak berbuah."
        ];

        const nasihatAgamis = [
            "Sedekah dulu yuk sebelum beraktivitas..",
            "Jangan lupa tabungan akhirat hari ini!",
            "Infaq pagi ini untuk keberkahan hari ini.",
            "Harta tak dibawa mati, amal jariyah abadi."
        ];

        window.onload = () => {
            document.getElementById('m-text').innerText = mahfuzat.join("   •   ");
            document.getElementById('nasihat-gerak').innerText = nasihatAgamis[Math.floor(Math.random() * nasihatAgamis.length)];
            syncData();
        };
    </script>
</body>
</html>
